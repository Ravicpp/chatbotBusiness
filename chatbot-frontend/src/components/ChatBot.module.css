/* ChatBot.module.css â€” FINAL RESPONSIVE STYLES
   Replace src/components/ChatBot.module.css with this file.
   Works well on Desktop / Tablet / Mobile (safe-area & keyboard-aware).
*/

:root{
  --bg: #f3f7fb;
  --panel: #ffffff;
  --muted: #8f98a3;
  --accent: #1687ff;
  --accent-600: #0f6be6;
  --bot-bubble: #fbfdff;
  --user-bubble: #e6f3ff;
  --shadow: 0 8px 30px rgba(30,40,60,0.06);
  --radius: 16px;
  --small-radius: 10px;
  --focus: rgba(21,101,192,0.12);
  --header-h: 64px;
  --controls-h: 84px; /* height of the sticky input area */
}

/* Reset & base */
*{ box-sizing:border-box; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; }
html,body,#root{ height:100%; margin:0; font-family: Inter, "Segoe UI", Roboto, Arial, sans-serif; background:var(--bg); color:#0f1724; }

/* Layout wrapper */
.wrapper{
  display:flex;
  height:100vh;
  overflow:hidden;
}

/* -----------------------
   SIDEBAR (desktop) / slide-over (mobile)
   ----------------------- */
.sidebar{
  width:320px;
  min-width:260px;
  background:var(--panel);
  border-right:1px solid rgba(15,20,36,0.04);
  padding:20px;
  box-shadow:var(--shadow);
  display:flex;
  flex-direction:column;
  z-index:40;
  transition: transform .28s ease, opacity .28s ease;
  height:100vh;
  overflow:auto;
}

/* On smaller screens, sidebar hidden by default and slides in when .open added */
@media (max-width: 920px){
  .sidebar{
    position: fixed;
    top:0;
    left:0;
    height:100vh;
    width:84%;
    max-width:360px;
    transform: translateX(-120%);
    opacity:0;
    box-shadow: 0 20px 60px rgba(8,12,20,0.2);
    border-right:1px solid rgba(15,20,36,0.06);
  }
  .sidebar.open{
    transform: translateX(0);
    opacity:1;
  }
}

/* Sidebar content */
.brand{ font-weight:700; font-size:20px; color:var(--accent-600); margin-bottom:12px; }
.closeBtn{ position:absolute; right:14px; top:14px; background:transparent; border:none; cursor:pointer; color:var(--muted); }
.scrollableContent{ padding-bottom:28px; }

/* Profile */
.profile{ display:flex; gap:12px; align-items:center; padding:12px; background: linear-gradient(180deg, rgba(21,101,192,0.06), rgba(21,101,192,0.02)); border-radius:12px; margin-bottom:16px; }
.avatar{ width:56px; height:56px; border-radius:50%; background:var(--accent); color:white; display:flex; align-items:center; justify-content:center; font-weight:700; box-shadow: 0 4px 12px rgba(21,101,192,0.12); }
.pName{ font-weight:600; }
.pPhone{ color:var(--muted); font-size:13px; }

/* Menu */
.menu{ display:flex; flex-direction:column; gap:10px; margin-bottom:14px; }
.menuBtn{ background:transparent; border:none; text-align:left; padding:12px 14px; border-radius:12px; cursor:pointer; font-weight:700; color:#0f1724; transition: background .12s ease, transform .06s ease; }
.menuBtn:hover{ background: rgba(15,20,36,0.04); transform: translateY(-1px); }

/* Panels & inputs */
.divider{ height:1px; background: rgba(15,20,36,0.04); margin:16px 0; }
.panel{ padding:6px 0 14px; }
.panelTitle{ font-size:14px; color:var(--accent-600); margin:6px 0 10px; font-weight:700; }

.inputGroup{ display:flex; gap:10px; align-items:center; background:var(--panel); border-radius:12px; border:1px solid rgba(15,20,36,0.04); padding:12px; margin-bottom:12px; }
.input{ flex:1; border:none; outline:none; font-size:15px; background:transparent; }

/* action buttons in sidebar */
.actionRow{ margin-top:8px; }
.primary{ background: linear-gradient(90deg,var(--accent),var(--accent-600)); color:#fff; padding:12px 14px; border-radius:12px; border:none; cursor:pointer; font-weight:700; }
.ghost{ background:transparent; border:1px solid rgba(15,20,36,0.06); color:#0f1724; padding:12px 14px; border-radius:12px; cursor:pointer; }
.fullWidth{ width:100%; }

/* -----------------------
   CHAT AREA
   ----------------------- */
.chatArea{ flex:1; display:flex; flex-direction:column; min-width:0; }

/* Header (keeps height consistent) */
.header{
  height: var(--header-h);
  min-height: var(--header-h);
  display:flex; align-items:center; gap:12px; padding:12px 18px;
  border-bottom:1px solid rgba(15,20,36,0.04);
  background: transparent;
  z-index:2;
}
.hamburger{ background:transparent; border:none; margin-right:8px; cursor:pointer; }
.headerTitle{ font-weight:700; font-size:16px; }

/* Messages area: full height minus header and leave room for controls at bottom */
.messages{
  flex:1;
  overflow-y:auto;
  padding:24px;
  background:transparent;
  /* ensure messages don't get hidden by fixed controls on small screens */
  padding-bottom: calc(var(--controls-h) + 32px);
}

/* Single message wrapper */
.msg{ display:flex; margin-bottom:14px; width:100%; }
.bot{ justify-content:flex-start; }
.user{ justify-content:flex-end; }

/* bubble width scaling */
.msg > div:first-child{ max-width:72%; }
@media (max-width: 920px){ .msg > div:first-child{ max-width:92%; } }
@media (max-width: 420px){ .msg > div:first-child{ max-width:96%; } }

/* bubble styles (ensure your MessageBubble component renders a wrapper with class 'bubble' or adapt) */
.bubble{
  background:var(--bot-bubble);
  padding:14px 16px;
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  line-height:1.45;
  font-size:15px;
  color:#0f1724;
  white-space:pre-wrap;
  word-break:break-word;
}
.user .bubble{ background:var(--user-bubble); color:#0f2a56; }

/* timestamp */
.msgTime{ font-size:12px; color:var(--muted); margin-top:8px; text-align:right; }

/* typing indicator */
.typing{
  font-size:14px; opacity:0.95; padding:8px 10px; display:inline-block;
  border-radius:12px; background: rgba(15,20,36,0.03);
  animation: typingBlink 1.2s infinite; letter-spacing:6px;
}
@keyframes typingBlink{
  0%{ opacity:0.25; transform: translateY(0); } 50%{ opacity:1; transform: translateY(-2px); } 100%{ opacity:0.25; transform: translateY(0); }
}

/* Chat form (ChatBox) */
.chatFormRow{ display:flex; flex-direction:column; margin-bottom:10px; }
.chatFormRow label{ font-size:13px; color:var(--muted); margin-bottom:6px; font-weight:600; }
.chatInput{ padding:12px 14px; border-radius:10px; border:1px solid rgba(15,20,36,0.06); font-size:15px; outline:none; }

/* File preview */
.filePreview{ margin-top:8px; display:inline-flex; align-items:center; gap:8px; font-size:13px; color:#0f1724; }

/* Confirm row */
.confirmRow{ display:flex; gap:12px; margin-top:10px; flex-wrap:wrap; }
.confirmBtn{ background: linear-gradient(90deg,#18a558,#0f9a52); color:white; padding:10px 14px; border-radius:10px; border:none; cursor:pointer; font-weight:700; }
.cancelBtn{ background:transparent; border:1px solid rgba(15,20,36,0.06); padding:10px 14px; border-radius:10px; cursor:pointer; }

/* Actions inside messages */
.actionBtn{ background:transparent; border:1px solid rgba(15,20,36,0.06); padding:8px 10px; border-radius:8px; cursor:pointer; font-weight:600; }

/* -----------------------
   CONTROLS (sticky / fixed input)
   ----------------------- */
/* On desktop we keep it in flow (not fixed) so footer doesn't overlap; on small screens fixed to bottom */
.controls{
  padding:12px 18px;
  border-top:1px solid rgba(15,20,36,0.04);
  background: transparent;
  z-index:30;
}

/* make the controls fixed on small screens (mobile & small tablet) */
@media (max-width: 920px){
  .controls{
    position: fixed;
    left:0;
    right:0;
    bottom:0;
    padding: 12px 16px calc(12px + env(safe-area-inset-bottom));
    background: linear-gradient(180deg, rgba(243,247,251,0.75), rgba(243,247,251,0.9));
    backdrop-filter: blur(6px);
    box-shadow: 0 -6px 24px rgba(10,12,20,0.06);
  }
}

/* Input row */
.inputRow{ display:flex; gap:12px; align-items:center; max-width:1100px; margin:0 auto; }
.mainInput{
  flex:1;
  padding:12px 16px;
  border-radius:28px;
  border:1px solid rgba(15,20,36,0.06);
  outline:none;
  font-size:15px;
  background:#fff;
  min-height:46px;
}
.sendBtn{
  width:48px; height:48px; border-radius:50%; border:none;
  background: linear-gradient(90deg, var(--accent), var(--accent-600)); color:#fff;
  display:inline-flex; align-items:center; justify-content:center; cursor:pointer;
  box-shadow: 0 8px 30px rgba(21,101,192,0.12);
}

/* Bigger touch targets on tiny screens */
@media (max-width:600px){
  .mainInput{ padding:14px 16px; font-size:16px; min-height:52px; }
  .sendBtn{ width:56px; height:56px; }
  .menuBtn{ padding:14px 16px; font-size:16px; }
  .inputGroup{ padding:14px; }
}

/* Admin modal overlay */
.adminOverlay{ position: fixed; inset:0; display:grid; place-items:center; background: rgba(10,12,16,0.35); z-index:70; }
.adminBox{ background:var(--panel); border-radius:12px; padding:18px; width:420px; max-width:92%; box-shadow:var(--shadow); }

/* Login modal (new) */
.modalOverlay{ position: fixed; inset:0; display:grid; place-items:center; background: rgba(10,12,16,0.35); z-index:80; }
.modalBox{ background:var(--panel); border-radius:12px; padding:16px; width:360px; max-width:94%; box-shadow:var(--shadow); }
.modalBox h3{ margin:0 0 8px 0; font-size:18px; }

.modalBox .inputGroup{ margin-bottom:6px; }

/* Focus visuals */
.chatInput:focus, .input:focus, .mainInput:focus{ box-shadow: 0 10px 30px var(--focus); border-color: rgba(21,101,192,0.18); }

/* small device tweaks */
@media (max-width:420px){
  .sidebar{ width:90%; }
  .headerTitle{ font-size:15px; }
  .panelTitle{ font-size:13px; }
  .chatFormRow label{ font-size:12px; }
  .msgTime{ font-size:11px; }
}

/* final safety clamp */
@media (max-width:360px){
  .brand{ font-size:18px; }
  .headerTitle{ font-size:14px; }
}

/* Accessibility helper: make buttons keyboard-visible */
.menuBtn:focus, .primary:focus, .ghost:focus, .confirmBtn:focus, .cancelBtn:focus{ outline: 3px solid rgba(21,101,192,0.12); outline-offset: 3px; }
